const dadosRevisao = {
        DK160: {
            1000: [
                { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 2, valor: 70.00 }
            ],
            3000: [
                { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 2, valor: 70.00 }
            ],
            6000: [
                { codigo: '319783', nome: 'Arruela', qtd: 1, valor: 10.00 },
                { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 2, valor: 70.00 }
            ],
            9000: [
                { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 2, valor: 70.00 }
            ],
            12000: [
                { codigo: '319783', nome: 'Arruela', qtd: 1, valor: 10.00 },
                { codigo: '13781H2C100H000', nome: 'Filtro de Ar', qtd: 1, valor: 85.00 },
                { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 2, valor: 70.00 },
                { codigo: '16561H3E000H000', nome: 'Junta Capa √ìleo', qtd: 1, valor: 12.50 },
                { codigo: '11482H3J012H000', nome: 'Junta Tampa Direita', qtd: 1, valor: 85.00 },
                { codigo: '14181H11200H000', nome: 'Junta Escapamento', qtd: 1, valor: 21.00 },
                { codigo: '09482H00010H000', nome: 'Velas', qtd: 1, valor: 90.00 }
            ],
            15000: [
                { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 2, valor: 70.00 }
            ],
            18000: [
                { codigo: '319783', nome: 'Arruela', qtd: 1, valor: 10.00 },
                { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 2, valor: 70.00 }
            ],
            tmo: { 1000: 0.0, 3000: 0.5, 6000: 0.5, 9000: 0.5, 12000: 3.0, 15000: 0.5, 18000: 1.0 }
        },
        DR160: {
            1000: [
                { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 2, valor: 70.00 }
            ],
            3000: [
                { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 2, valor: 70.00 }
            ],
            6000: [
                { codigo: '319783', nome: 'Arruela', qtd: 1, valor: 10.00 },
                { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 2, valor: 70.00 }
            ],
            9000: [
                { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 2, valor: 70.00 }
            ],
            12000: [
                { codigo: '319783', nome: 'Arruela', qtd: 1, valor: 10.00 },
                { codigo: '13780H2J000H000', nome: 'Filtro de Ar', qtd: 1, valor: 90.00 },
                { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 2, valor: 70.00 },
                { codigo: '16561H3E000H000', nome: 'Junta Capa √ìleo', qtd: 1, valor: 12.50 },
                { codigo: '11482H3J012H000', nome: 'Junta Tampa Direita', qtd: 1, valor: 85.00 },
                { codigo: '14181H11200H000', nome: 'Junta Escapamento', qtd: 1, valor: 21.00 },
                { codigo: '09482H00010H000', nome: 'Velas', qtd: 1, valor: 90.00 }
            ],
            15000: [
                { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 2, valor: 70.00 }
            ],
            18000: [
                { codigo: '319783', nome: 'Arruela', qtd: 1, valor: 10.00 },
                { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 2, valor: 70.00 }
            ],
            tmo: { 1000: 0.0, 3000: 0.5, 6000: 0.5, 9000: 0.5, 12000: 3.0, 15000: 0.5, 18000: 1.0 }
        },
        DL160: {
        1000: [ { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 2, valor: 70.00 } ],
       
        3000: [ { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 2, valor: 70.00 } ],
        
        6000: [ { codigo: '319783', nome: 'Arruela', qtd: 1, valor: 10.00 }, 
        { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 2, valor: 70.00 } ],
        
        9000: [ { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 2, valor: 70.00 } ],
        
        12000: [
            { codigo: '319783', nome: 'Arruela', qtd: 1, valor: 10.00 },
            { codigo: '13780H2J000H000', nome: 'Filtro de Ar', qtd: 1, valor: 90.00 },
            { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 2, valor: 70.00 },
            { codigo: '16561H3E000H000', nome: 'Junta Capa √ìleo', qtd: 1, valor: 12.50 },
            { codigo: '11482H3J012H000', nome: 'Junta Tampa Direita', qtd: 1, valor: 85.00 },
            { codigo: '14181H11200H000', nome: 'Junta Escapamento', qtd: 1, valor: 21.00 },
            { codigo: '09482H00010H000', nome: 'Velas', qtd: 1, valor: 90.00 }
        ],
        15000: [ { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 2, valor: 70.00 } ],
       
        18000: [ { codigo: '319783', nome: 'Arruela', qtd: 1, valor: 10.00 }, 
        { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 2, valor: 70.00 } ],
        tmo: { 1000: 0.0,3000:0.5,6000:0.5,9000:0.5,12000:3.0,15000:0.5,18000:1.0 }
    },
        MASTER150: {
        1000: [ { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 2, valor: 70.00 } ],
        
        3000: [ { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 2, valor: 70.00 } ],
        
        6000: [ { codigo: '319783', nome: 'Arruela', qtd:1, valor:10.00 }, 
                { codigo: 'MT114', nome: '√ìleo do Motor', qtd:2, valor:70.00 } ],
        
        9000: [ { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 2, valor: 70.00 } ],
        
        12000: [
            { codigo: '319783', nome: 'Arruela', qtd: 1, valor: 10.00 },
            { codigo: '13780H37200H000', nome: 'Filtro de Ar', qtd: 1, valor: 70.00 },
            { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 2, valor: 70.00 },
            { codigo: '16561H3E000H000', nome: 'Junta Capa √ìleo', qtd: 1, valor: 12.50 },
            { codigo: '11482H3E000H000', nome: 'Junta Tampa Direita', qtd: 1, valor: 85.00 },
            { codigo: '14181H11200H000', nome: 'Junta Escapamento', qtd: 1, valor: 21.00 },
            { codigo: '0948200399000', nome: 'Velas', qtd: 1, valor: 81.00 }
        ],
        15000: [ { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 2, valor: 70.00 } ],
        18000: [ { codigo: '319783', nome: 'Arruela', qtd: 1, valor: 10.00 }, { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 1, valor: 70.00 } ],
        tmo: {1000:0.0,3000:0.5,6000:0.5,9000:0.5,12000:3.0,15000:0.5,18000:1.0}
    },
        NK150: {
        1000: [
            { codigo: '319783', nome: 'Arruela', qtd: 1, valor: 10.00 },
            { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 2, valor: 70.00 }
        ],
        3000: [
            { codigo: '319783', nome: 'Arruela', qtd: 1, valor: 10.00 },
            { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 2, valor: 70.00 }
        ],
        6000: [
            { codigo: '319783', nome: 'Arruela', qtd: 1, valor: 10.00 },
            { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 2, valor: 70.00 }
        ],
        9000: [
            { codigo: '319783', nome: 'Arruela', qtd: 1, valor: 10.00 },
            { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 2, valor: 70.00 }
        ],
        12000: [
            { codigo: '319783', nome: 'Arruela', qtd: 1, valor: 10.00 },
            { codigo: '13780H2J000H000', nome: 'Filtro de Ar', qtd: 1, valor: 90.00 },
            { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 2, valor: 70.00 },
            { codigo: '16561H3E000H000', nome: 'Junta Capa √ìleo', qtd: 1, valor: 12.50 },
            { codigo: '11482H3J012H000', nome: 'Junta Tampa Direita', qtd: 1, valor: 85.00 },
            { codigo: '14181H11200H000', nome: 'Junta Escapamento', qtd: 1, valor: 21.00 },
            { codigo: '09482H00010H000', nome: 'Velas', qtd: 1, valor: 90.00 }
        ],
        15000: [
            { codigo: '319783', nome: 'Arruela', qtd: 1, valor: 10.00 },
            { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 2, valor: 70.00 }
        ],
        18000: [
            { codigo: '319783', nome: 'Arruela', qtd: 1, valor: 10.00 },
            { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 2, valor: 70.00 }
        ],
        tmo: { 1000: 0.0, 3000: 0.5, 6000: 0.5, 9000: 0.5, 12000: 3.0, 15000: 0.5, 18000: 1.0 }
    },
        CHOPPER150: {
        1000: [ { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 2, valor: 70.00 } ],
       
        3000: [ { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 2, valor: 70.00 } ],
       
        6000: [ 
            { codigo: '319783', nome: 'Arruela', qtd: 1, valor: 10.00 }, 
             { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 2, valor: 70.00 } ],
       
             9000: [ { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 2, valor: 70.00 } ],
       
             12000: [
            { codigo: '319783', nome: 'Arruela', qtd: 1, valor: 10.00 },
            { codigo: '13781H2A300H000', nome: 'Filtro de Ar', qtd: 1, valor: 42.00 },
            { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 2, valor: 70.00 },
            { codigo: '16561H3E000H000', nome: 'Junta Capa √ìleo', qtd: 1, valor: 12.50 },
            { codigo: '11482H3E000H000', nome: 'Junta Tampa Direita', qtd: 1, valor: 85.00 },
            { codigo: '14181H11200H000', nome: 'Junta Escapamento', qtd: 1, valor: 21.00 },
            { codigo: '09482H00001H000', nome: 'Velas', qtd: 1, valor: 90.00 }
        ],
        15000: [ { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 2, valor: 70.00 } ],
        18000: [ { codigo: '319783', nome: 'Arruela', qtd: 1, valor: 10.00 }, { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 1, valor: 70.00 } ],
        tmo: { 1000: 0.0, 3000: 0.5, 6000: 0.5, 9000: 0.5, 12000: 3.0, 15000: 0.5, 18000: 1.0 }
    },
        LINDY125: {
        1000: [
            { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 1, valor: 70.00 },
            { codigo: '16510-26H00-000', nome: 'Filtro de √ìleo', qtd: 1, valor: 43.00 },
            { codigo: '0928054001000', nome: 'Junta Tampa Filtro', qtd: 1, valor: 21.00 }
        ],
        3000: [
            { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 1, valor: 70.00 },
            { codigo: '16510-26H00-000', nome: 'Filtro de √ìleo', qtd: 1, valor: 43.00 },
            { codigo: '0928054001000', nome: 'Junta Tampa Filtro', qtd: 1, valor: 21.00 }
        ],
        6000: [
            { codigo: '319783', nome: 'Arruela', qtd: 1, valor: 10.00 },
            { codigo: '13780H7A001H000', nome: 'Filtro de Ar', qtd: 1, valor: 75.00 },
            { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 1, valor: 70.00 },
            { codigo: '16510-26H00-000', nome: 'Filtro de √ìleo', qtd: 1, valor: 43.00 },
            { codigo: '0928054001000', nome: 'Junta Tampa Filtro', qtd: 1, valor: 21.00 }
        ],
        9000: [
            { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 1, valor: 70.00 },
            { codigo: '16510-26H00-000', nome: 'Filtro de √ìleo', qtd: 1, valor: 43.00 },
            { codigo: '0928054001000', nome: 'Junta Tampa Filtro', qtd: 1, valor: 21.00 }
        ],
        12000: [
            { codigo: '319783', nome: 'Arruela', qtd: 1, valor: 10.00 },
            { codigo: '13780H7A001H000', nome: 'Filtro de Ar', qtd: 1, valor: 75.00 },
            { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 1, valor: 70.00 },
            { codigo: '16510-26H00-000', nome: 'Filtro de √ìleo', qtd: 1, valor: 43.00 },
            { codigo: '0928054001000', nome: 'Junta Tampa Filtro', qtd: 1, valor: 21.00 },
            { codigo: '11173-33G50-000', nome: 'Junta Tampa de V√°lvula', qtd: 1, valor: 56.00 },
            { codigo: '09482-00406-000', nome: 'Velas', qtd: 1, valor: 41.00 }
        ],
        15000: [
            { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 1, valor: 70.00 },
            { codigo: '16510-26H00-000', nome: 'Filtro de √ìleo', qtd: 1, valor: 43.00 },
            { codigo: '0928054001000', nome: 'Junta Tampa Filtro', qtd: 1, valor: 21.00 }
        ],
        18000: [
            { codigo: '319783', nome: 'Arruela', qtd: 1, valor: 10.00 },
            { codigo: 'MT114', nome: '√ìleo do Motor', qtd: 1, valor: 70.00 },
            { codigo: '16510-26H00-000', nome: 'Filtro de √ìleo', qtd: 1, valor: 43.00 },
            { codigo: '0928054001000', nome: 'Junta Tampa Filtro', qtd: 1, valor: 21.00 },
            { codigo: '27601H33G11H000', nome: 'Correia CVT', qtd: 1, valor: 245.00 }
        ],
        tmo: { 1000: 0.0, 3000: 0.5, 6000: 1.5, 9000: 0.5, 12000: 2.0, 15000: 0.5, 18000: 3.0 }
    }
    
    };

    const TMO_HORA = 110; // R$ 110,00 por hora

    document.getElementById('veiculoSelect').addEventListener('change', calcular);
    document.getElementById('kmSelect').addEventListener('change', calcular);

    function formatMoney(v) {
        return 'R$ ' + v.toFixed(2).replace('.', ',');
    }

    function calcular() {
        const veiculo = document.getElementById('veiculoSelect').value;
        const km = document.getElementById('kmSelect').value;
        const listaPecas = document.getElementById('listaPecas');
        const totalPecasEl = document.getElementById('totalPecas');
        const totalTMOEl = document.getElementById('totalTMO');
        const totalGeralEl = document.getElementById('totalGeral');
        const subPecasEl = document.getElementById('subPecas');
        const subTMOEl = document.getElementById('subTMO');
        const subTotalEl = document.getElementById('subTotal');

        if (!veiculo || !km) {
            listaPecas.innerHTML = '<div class="no-result">üëÜ Selecione ve√≠culo e KM para ver as pe√ßas da revis√£o</div>';
            totalPecasEl.textContent = 'R$ 0,00';
            totalTMOEl.textContent = 'R$ 0,00';
            totalGeralEl.textContent = 'R$ 0,00';
            subPecasEl.textContent = 'Sem itens selecionados';
            subTMOEl.textContent = '0,0 h √ó R$ 100,00/h';
            subTotalEl.textContent = 'Pe√ßas + M√£o de Obra';
            return;
        }

        const revisao = (dadosRevisao[veiculo] && dadosRevisao[veiculo][km]) || [];
        const tmoHoras = (dadosRevisao[veiculo] && dadosRevisao[veiculo].tmo && dadosRevisao[veiculo].tmo[parseInt(km)]) || 0;

        if (!revisao.length) {
            listaPecas.innerHTML = '<div class="no-result">Nenhuma pe√ßa cadastrada para esta revis√£o</div>';
        } else {
            let header = `
                <div class="peca-header">
                    <div>Pe√ßa</div>
                    <div>C√≥digo</div>
                    <div>Qtd.</div>
                    <div>Total (R$)</div>
                </div>
            `;
            const itens = revisao.map(peca => `
                <div class="peca-item">
                    <div class="peca-nome">${peca.nome}</div>
                    <div class="peca-codigo">${peca.codigo}</div>
                    <div class="peca-qtd">${peca.qtd}</div>
                    <div class="peca-valor">${formatMoney(peca.qtd * peca.valor)}</div>
                </div>
            `).join('');
            listaPecas.innerHTML = header + itens;
        }

        const totalPecas = revisao.reduce((sum, p) => sum + p.qtd * p.valor, 0);
        const totalTMO = tmoHoras * TMO_HORA;
        const totalGeral = totalPecas + totalTMO;

        totalPecasEl.textContent = formatMoney(totalPecas);
        totalTMOEl.textContent = formatMoney(totalTMO);
        totalGeralEl.textContent = formatMoney(totalGeral);

        subPecasEl.textContent = revisao.length ? `${revisao.length} item(ns) na revis√£o` : 'Sem itens selecionados';
        subTMOEl.textContent = `${tmoHoras.toFixed(1).replace('.', ',')} h √ó R$ 100,00/h`;
        subTotalEl.textContent = 'Pe√ßas + M√£o de Obra';
    }